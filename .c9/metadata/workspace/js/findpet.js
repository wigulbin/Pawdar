{"changed":true,"filter":false,"title":"findpet.js","tooltip":"/js/findpet.js","value":"$(document).ready(function(){\n    var number = 0;\n    var species;\n    var sizePotential;\n    var radius;\n    var breed;\n    var zipcode;\n    var check = 1;\n    var foundRows=1;\n    $(\".get-pets\").submit(function(event){\n        foundRows=1;\n        event.preventDefault();\n        console.log(\"test\");\n        //number = $('#numberof').val();\n        number = parseInt(number);\n        \n        species = $('#animalspecies').val();\n        \n        sizePotential = $('#animalsize').val();\n        \n        radius = $('#radius').val();\n        \n        breed = $('#animalbreed').val();\n        \n        zipcode = $(\"#zipcode\").val()\n        \n        //console.log(species);\n        //console.log(number);\n        $.ajax({\n            url: 'php/apiconnect.php',\n            type: 'GET',\n            dataType: 'JSON',\n            data: {\n                number: number,\n                species: species,\n                sizePotential: sizePotential,\n                radius: radius,\n                breed: breed,\n                zipcode: zipcode\n            },\n            \n            success: function(serverResponse) {\n                $(\"#pets\").removeClass(\"hide\");\n                console.log(serverResponse.data);\n                $(\".item\").html(\"\");\n                //$(\".test\").append(JSON.stringify(serverResponse));\n                var jsonObject = serverResponse;\n                //console.log(jsonObject);\n                //console.log(jsonObject.data);\n                console.log(jsonObject);\n                for(item in jsonObject.data){\n                    $(\".item\").append(\"<div class='col-xl-4 col-md-4 col-xs-12 space \"+item+\"'></div>\")\n                    for(items in jsonObject.data[item]){\n                        console.log(items);\n                        if(items==\"animalThumbnailUrl\"){\n                            $(\".\"+item).prepend(\"<img src='\"+jsonObject.data[item][items]+\"'</img>\");\n                        }else if(items==\"animalBreed\"){\n                            $(\".\"+item).append(\"<li class='list-group-item'><b>\"+items+\": </b>\"+jsonObject.data[item][items].split('/')[0]+\"</li>\");\n                            \n                        }else{\n                            $(\".\"+item).append(\"<li class='list-group-item'><b>\"+items+\": </b>\"+jsonObject.data[item][items]+\"</li>\");\n                        }\n                    }\n                    \n                }\n            },\n            \n            error: function(jqXHR, textStatus, errorThrown) {\n                console.log('error');\n                console.log(errorThrown);\n                console.log(jqXHR);\n            },\n            \n    \n            complete: function() {\n               // $(\"#ajaxIndicator\").modal('hide');\n               console.log(\"done\");\n            }\n        });\n    });\n    $(window).scroll(function(){\n        if(($(window).scrollTop() + $(window).height() == $(document).height()) && check && foundRows){\n            check=0;\n            console.log(\"Here is the number: \"+number);\n            number = number+20;\n            console.log($(\".img\"));\n            $(\".img\").removeClass(\"hide\");\n            console.log($(\".img\"));\n            var item = document.getElementById('loader');\n            item.style.display=\"block\";\n            $.ajax({\n            url: 'php/apiconnect.php',\n            type: 'GET',\n            dataType: 'JSON',\n            data: {\n                number: number,\n                species: species,\n                sizePotential: sizePotential,\n                radius: radius,\n                breed: breed\n            },\n            \n            success: function(serverResponse) {\n                item.style.display=\"none\";\n                console.log(serverResponse.data);\n                //$(\".item\").html(\"\");\n                //$(\".test\").append(JSON.stringify(serverResponse));\n                var jsonObject = serverResponse;\n                //console.log(jsonObject);\n                //console.log(jsonObject.data);\n                console.log(jsonObject);\n                console.log(serverResponse.foundRows);\n                if(serverResponse.foundRows == 0){\n                    foundRows=0;\n                }\n                for(item in jsonObject.data){\n                    $(\".item\").append(\"<div class='col-xl-4 col-md-4 col-xs-12 space \"+item+\"'></div>\")\n                    for(items in jsonObject.data[item]){\n                        //console.log(items);\n                       if(items==\"animalThumbnailUrl\"){\n                            $(\".\"+item).prepend(\"<img src='\"+jsonObject.data[item][items]+\"'</img>\");\n                        }else if(items==\"animalBreed\"){\n                            $(\".\"+item).append(\"<li class='list-group-item'>\"+jsonObject.data[item][items].split('/')[0]+\"</li>\");\n                            \n                        }else{\n                            $(\".\"+item).append(\"<li class='list-group-item'>\"+jsonObject.data[item][items]+\"</li>\");\n                        }\n                    }\n                    \n                }\n            },\n            \n            error: function(jqXHR, textStatus, errorThrown) {\n                console.log('error');\n                console.log(errorThrown);\n                console.log(jqXHR);\n            },\n            \n    \n            complete: function() {\n                check=1;\n                //$(\".img\").removeClass(\"hide\");\n               \n                //$(\".img-loader\").remove();\n               // $(\"#ajaxIndicator\").modal('hide');\n               console.log(\"done\");\n            }\n        });\n        }\n   \n    }) \n});","undoManager":{"mark":-2,"position":3,"stack":[[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":3460}],[{"start":{"row":0,"column":0},"end":{"row":2,"column":2},"action":"insert","lines":["<?php","    session_start();","?>"],"id":3461}],[{"start":{"row":0,"column":0},"end":{"row":2,"column":2},"action":"remove","lines":["<?php","    session_start();","?>"],"id":3462}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["",""],"id":3463}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1493603692353}